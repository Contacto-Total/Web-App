<div class="grid">
  <mat-card class="tpl"
            *ngFor="let t of templates"
            [class.selected]="isSelected(t)"
            (click)="choose(t)">
    <mat-card-header>
      <mat-card-title>{{ t.name }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="txt">{{ t.template }}</div>
      <div class="vars">
        <!-- opcional: mostrar variables detectadas -->
        <mat-chip-set>
          <mat-chip *ngFor="let v of varsOf(t)">{{ v }}</mat-chip>
        </mat-chip-set>
      </div>
    </mat-card-content>

    <mat-card-actions>
      <button mat-stroked-button color="primary"
              (click)="choose(t); $event.stopPropagation()">
        {{ isSelected(t) ? 'Seleccionado' : 'Usar' }}
      </button>
    </mat-card-actions>
  </mat-card>
</div>
